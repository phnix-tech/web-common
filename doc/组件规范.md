# 组件规范

_参考官方组件命名规范[风格指南](https://cn.vuejs.org/v2/style-guide/#%E5%9F%BA%E7%A1%80%E7%BB%84%E4%BB%B6%E5%90%8D-%E5%BC%BA%E7%83%88%E6%8E%A8%E8%8D%90)_

- 组件名首字母大写连接多个单词。

- 组件的依赖以 三方依赖=>本地依赖 的顺序引入。

- 组件采用目录index导出，目录名首字母大写，如果组件内部还有子组件创建`components`子目录拆分。

- 组件属性的名称不使用下划线开头。但是非组件类的私有属性以下划线开头。

- 组件的回调props统一以`onXXX`的命名，事件处理函数统一以`handleXXX`的命名。

示例：

```javascript
import Table from "@/components/Table";
import SearchCondition from "./components/SearchCondition";

export default {
  name: "InApplicationFormList",
  components: {
    Table,
    SearchCondition
  },
  methods: {
    rowKey (inApplicationForm) {
      return inApplicationForm.gpn();
    },
    // 事件方法以 handleXXX命名
    handleEdit () {

    },
    handleDelete () {

    },
    // 子组件回调方法以onXXX命名
    onSearch () {

    },
    onReset () {

    }
  }
};
```

- template中组件引用统一小写，中线连接多个单词。

- template中组件属性统一小写，中线连接多个单词。

- 空body标签统一自闭合。[自闭合组件-强烈推荐](https://cn.vuejs.org/v2/style-guide/#%E8%87%AA%E9%97%AD%E5%90%88%E7%BB%84%E4%BB%B6-%E5%BC%BA%E7%83%88%E6%8E%A8%E8%8D%90)

示例：

```xml
<x-table
  ref="table"
  :auto-load="false"
  :with-selection="true"
  :with-index="true"
  :columns="columns"
  :page-list="pageList"
  :row-key="row => row.id">
  <template v-slot:actions>
    <el-table-column
      min-width="150"
      align="center"
      label="操作"
      v-slot="{row}">
      <el-link @click="handleView(row)">查看</el-link>
      <el-link @click="handleEdit(row)">修改</el-link>
      <el-link @click="handleDelete(row)">删除</el-link>
    </el-table-column>
  </template>
</x-table>

<search-condition
  ref="searchCondition"
  @on-search="onSearch"
  @on-reset="onReset"/>

<style lang="scss" module src="./style.scss"/>
```

- 组件样式采用[CSS Modules](./CSS%20Modules.md)编写，vue根据style标签的`module`属性来确定是否使用css modules，默认下css modules导出名字为`$style`，所以我们把样式文件独立命名为`style.scss`，拆分独立样式文件使单文件vue样式和js更清晰，也是为了便于可以做stylelint格式检查。除非不得已，尽量避免使用内联样式。

示例：

```text
/src
  /components
    /CustomizedTable
      /components                     组件内部子组件目录
        /Filter
          Filter.vue
          index.js
          index.modules.scss
        /Table
          Table.vue
          index.js
          index.modules.scss
      CustomizedTable.vue
      index.js
      index.modules.scss
  /pages
    /Home                             组件目录
      Home.vue                        组件文件
      index.js                        index导出
      index.modules.scss              组件样式
```

- 由于在组件中通过特殊属性`$style`来访问css modules导出的样式，需要符合对象`dot notation`语法，所以我们在css modules中约定驼峰命名形式，而不要使用中线、下划线命名形式。

示例：

```text
.container {
  .wscnHttp404 {                      驼峰命名class name，不要命名为wscn-http-404
    display: flex;
    align-items: center;
    position: relative;
    margin: 20px auto 60px;
    padding: 0 100px;
    overflow: hidden;
  }
}
```

- scss样式统一使用内嵌形式体现DOM层级结构，不要使用平级class name。